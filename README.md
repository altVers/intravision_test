# Тестовое для Intravision
Макет — https://www.figma.com/design/MAg0K2Wo9WwUyUUwQMKhlq/Untitled?node-id=0-1&p=f&t=kVNUoTTBdiyq562g-0

## Вопросы

1. В некоторых местах с бэка приходит HTML. Хотим ли мы его парсить на страницы или выводить простым текстом?
2. В макете, на экране редактиования задачи есть поле «Заявитель», «Создана» и «Исполнитель». При этом данных, которые подходят для этих полей только два:
executorName и initiatorName. Вроде нужно добавить еще одно поле в схему задачи.
3. В схеме у объекта комментария поле userName помечено его гуидом, а при получениисписка пользователей там только имена и айдишники. Никак не полуается привязать имена к гуидам, соотвественно комментарии остаются без авторов либо с гуидом вместо имени (так и сделал).
4. По-моему неудобно хранить комментарии к таске в одной куче со всеми изменениями. Стоит сделать для этого отдельное поле у задачи.
5. В схеме на добавление записи в поле tags из массива нужно убрать «0», при тестах из сваггера запрос сыпется из-за этого нуля, а без него проходит.
6. Метод PUT описан неправильно. В ТЗ написано, что отправлять можно только данные, которые изменились, хотя обязательными для отправки с каждым запросом поля являются: "id", "statusId", "executorId". При всем этом, PUT не перезаписывает поле tags, а добавляет к нему данные из запроса. Как мне кажется, это должно работать: в метод PUT отправляем, например, поле tags с содержимым всех айдишников актуальных тегов при каждом изменении и перезаписываем на бэке входящими данными поле tags у задачи целиком. Также не получается изменить поля name, description, resolutionDatePlan, хотя запрос на изменение проходит успешно.
7. Неудобно, что метод PUT ничео не возвращает, хотя было бы удобно возвращать измененную запись.  

## Баги 

1. Я добавил несколько одинаковых тегов в задачу, и их ключи совпали, react ругается. Удалить тег или задачу я не могу, так как нет доступных методов.
2. Сейчас криво работает добавление нескольких тегов подряд, так как метод PUT не изменяет а добавляет теги. Каждый выбор тега передает в запрос массив значений, а значит первый тег отпрвит [1], а начатиае второго тега отправит [1, 2] и в итоге на сервере будет [1, 1, 2] вместо [1, 2].
3. Выскакивает ошибка на несовместимость версий реакта и antD, но даунгрейд до 18 версии и сброс кеша не помог, тут не знаю уже.

## Что использовал в работе

1. React + TS
2. Next
2. ReduxToolkit
3. Zod
4. AntD

## Что сделал

1. Настроил роутинг c помощью Next
2. Типизировал все данные, включаяя входные с бека через Zod
3. Положил в стор все входящие данные: приоритеты, статусы, юзеры, теги, задачи. Все асинхронное передавал через встроенную Saga. 
4. Реализовал дизайн с помощью библиотеки AntD, с небольшими неточностями. 
5. Постарался обработать все места, где могут быть ошибки.
6. Дополнительно релизовал возможность редактировать дату и теги при изменении задачи.
7. Оставил поясняющие комментарии к коду. 

